{% extends 'base.html' %}
{% load static %}
{% block head_data %}
    <title>User Profile | Indoor Tournament</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Unused font and Tailwind CSS link commented out -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"> -->
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock head_data %}

{% block body_code %}
<main class="profile-body bg-dark text-white">
    <div class="profile-container">
        <button class="not-verified-btn" title="Your profile is not yet verified">Not Verified</button>
        
        <div class="profile-picture-wrapper">
            <img src="{% if profile and profile.profile_picture %}{{ profile.profile_picture.url }}{% else %}https://placehold.co/120x120/3a3f44/f8f9fa?text=Profile{% endif %}" alt="Profile Picture" id="profilePicture" style="cursor:pointer;">
            <label for="profilePictureInput" id="uploadIcon" title="Change profile picture" style="cursor:pointer;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg>
            </label>
        </div>
        
        <form id="profileForm" class="space-y-4" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                <div class="form-group">
                    <label for="fullName" class="block mb-2">Your Name</label>
                    <input type="text" name="full_name" id="fullName" class="form-control w-full p-3 rounded-lg" value="{{ form.full_name.value|default_if_none:'' }}" required>
                    <div class="invalid-feedback" id="fullNameError"></div>
                    {% if form.full_name.errors %}<div class="invalid-feedback">{{ form.full_name.errors }}</div>{% endif %}
                </div>
                <div class="form-group">
                    <label for="idNumber" class="block mb-2">ID No.</label>
                    <input type="text" name="id_number" id="idNumber" class="form-control w-full p-3 rounded-lg" value="{{ form.id_number.value|default_if_none:'' }}" required>
                    <div class="invalid-feedback" id="idNumberError"></div>
                    {% if form.id_number.errors %}<div class="invalid-feedback">{{ form.id_number.errors }}</div>{% endif %}
                </div>
                <div class="form-group">
                    <label for="gradYear" class="block mb-2">Year of Graduation</label>
                    <input type="number" name="grad_year" id="gradYear" class="form-control w-full p-3 rounded-lg" value="{{ form.grad_year.value|default_if_none:'' }}" required>
                    <div class="invalid-feedback" id="gradYearError"></div>
                    {% if form.grad_year.errors %}<div class="invalid-feedback">{{ form.grad_year.errors }}</div>{% endif %}
                </div>
            <button type="submit" class="save-btn w-full mt-4 text-white font-semibold p-3 rounded-lg flex items-center justify-center gap-2 transition-all duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-save" viewBox="0 0 16 16">
                    <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4.414a1 1 0 0 0-.293-.707l-2.414-2.414A1 1 0 0 0 10.586 1H2zm11 3.5V3h-1.5A1.5 1.5 0 0 1 10 4.5V6h3zM2 2h8v2a2 2 0 0 0 2 2h2v9a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V2a.5.5 0 0 1 .5-.5z"/>  
                </svg>
                Save
            </button>
        </form>
    </div>
</main>
{% endblock %}

{% block js_data %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/login.js' %}"></script>
{% endblock %}